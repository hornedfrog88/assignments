---
output:
  html_document: default
  pdf_document: default
---
Total Course Enrollment Prediction: List of Project Assets
================

Assets
----------

-   PROJECT_COURSE_CAPACITY_DATA SQL (executed against the TST intanced, cloned from PRD on 4/20/2018)
	SELECT A.STRM, A.CRSE_ID,  A.SUBJECT ||  A.CATALOG_NBR, SUM( A.ENRL_CAP), SUM( A.ENRL_TOT), SUM( A.ENRL_CAP- A.ENRL_TOT), SUM( A.ENRL_TOT)/SUM( 	A.ENRL_CAP), COUNT( A.CLASS_SECTION), C.UNITS_MAXIMUM, CASE WHEN
	SUBSTR( A.STRM,4,1) = 8 
	THEN 1
	ELSE 0
	END, CASE WHEN
	SUBSTR( A.STRM,4,1) = 2 
	THEN 1
	ELSE 0
	END, CASE WHEN
	SUBSTR( A.STRM,4,1) = 5
	THEN 1
	ELSE 0
	END 
  	FROM PS_CLASS_TBL_VW A, PS_CRSE_OFFER B, PS_CRSE_CATALOG C 
  	WHERE ( C.CRSE_ID = B.CRSE_ID 
    	AND C.EFFDT = B.EFFDT 
    	AND ( A.STRM BETWEEN '2168' AND '2182' 
     	AND A.ENRL_TOT > 0 
     	AND A.CLASS_TYPE = 'E' 
     	AND A.CATALOG_NBR NOT LIKE '%99' 
     	AND A.SUBJECT NOT LIKE 'EAP%' 
     	AND A.CATALOG_NBR NOT LIKE '%98' 
     	AND A.INSTITUTION = B.INSTITUTION 
     	AND B.CRSE_ID = A.CRSE_ID 
     	AND B.CRSE_OFFER_NBR = A.CRSE_OFFER_NBR 
     	AND B.EFFDT = 
        (SELECT MAX(B_ED.EFFDT) FROM PS_CRSE_OFFER B_ED 
        WHERE B.CRSE_ID = B_ED.CRSE_ID 
          AND B_ED.EFFDT <= SYSDATE) )) 
  	GROUP BY  A.STRM,  A.CRSE_ID,   A.SUBJECT ||  A.CATALOG_NBR,  C.UNITS_MAXIMUM,  CASE WHEN
	SUBSTR( A.STRM,4,1) = 8 
	THEN 1
	ELSE 0
	END,  CASE WHEN
	SUBSTR( A.STRM,4,1) = 2 
	THEN 1
	ELSE 0
	END,  CASE WHEN
	SUBSTR( A.STRM,4,1) = 5
	THEN 1
	ELSE 0
	END 
  	HAVING ( SUM( A.ENRL_CAP) > 0) 
  	ORDER BY 2, 1

-  PROJECT_TOT_ENRL_ATTMP_BY_CRSE SQL (executed against the TST intanced, cloned from PRD on 4/20/2018)

	SELECT A.STRM, A.CRSE_ID,  A.SUBJECT ||  A.CATALOG_NBR, SUM( A.ENRL_CAP), SUM( A.ENRL_TOT), SUM( A.WAIT_TOT), SUM( A.ENRL_CAP- A.ENRL_TOT), SUM( 	A.ENRL_TOT)/SUM( A.ENRL_CAP) 
  	FROM PS_CLASS_TBL_VW A 
  	WHERE ( A.STRM BETWEEN '2168' AND '2182' 
     	AND A.ENRL_TOT > 0 
     	AND A.CLASS_TYPE = 'E' 
     	AND A.SUBJECT <> 'EAP' 
     	AND A.CATALOG_NBR NOT LIKE '%99') 
  	GROUP BY  A.STRM,  A.CRSE_ID,   A.SUBJECT ||  A.CATALOG_NBR 
  	HAVING ( SUM( A.ENRL_CAP) > 0) 
  	ORDER BY 1


